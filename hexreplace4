#!/bin/sh -eu

printf "$(printf '\\%o' $(printf '0x%s ' $3))" | dd of="$1" conv=notrunc bs=1 seek="$(tr "\\0-\\377$(printf '\\%o' $(printf '0x%s ' $2))" '[\n*256]\20\21\22\23\24\25\26\27\30\31\32\33\34\35\36\37\40\41\42\43\44\45\46\47\50\51\52\53\54\55\56\57' < "$1" | grep -Fabo "$(printf "$(printf '\\%o' $(printf '0x%s ' $2))" | tr "$(printf '\\%o' $(printf '0x%s ' $2))" '\20\21\22\23\24\25\26\27\30\31\32\33\34\35\36\37\40\41\42\43\44\45\46\47\50\51\52\53\54\55\56\57')" | cut -d: -f1)"
